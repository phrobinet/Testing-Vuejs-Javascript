(window.webpackJsonp=window.webpackJsonp||[]).push([[202],{548:function(e,t,r){"use strict";r.r(t);var s=r(42),n=Object(s.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"wrapper"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#wrapper"}},[e._v("#")]),e._v(" Wrapper")]),e._v(" "),r("p",[e._v("Vue Test Utils est une API basée sur un wrapper.")]),e._v(" "),r("p",[e._v("Un "),r("code",[e._v("Wrapper")]),e._v(" est un objet qui contient un composant ou un vnode monté et des méthodes pour tester le composant ou le vnode.")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://vueschool.io/lessons/the-wrapper-object?friend=vuejs",title:"En savoir plus sur l'objet Wrapper dans une leçon vidéo GRATUITE de l'école Vue",target:"_blank",rel:"noopener noreferrer"}},[e._v("En savoir plus sur l'objet Wrapper dans une leçon vidéo GRATUITE de l'école Vue"),r("OutboundLink")],1)]),e._v(" "),r("h2",{attrs:{id:"properties"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#properties"}},[e._v("#")]),e._v(" Properties")]),e._v(" "),r("h3",{attrs:{id:"vm"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#vm"}},[e._v("#")]),e._v(" "),r("code",[e._v("vm")])]),e._v(" "),r("p",[e._v("Composante (en lecture seule) : Il s'agit de l'instance Vue. Vous pouvez accéder à toutes les "),r("a",{attrs:{href:"https://vuejs.org/v2/api/#Instance-Properties",target:"_blank",rel:"noopener noreferrer"}},[e._v("méthodes et propriétés de l'instance d'un vm"),r("OutboundLink")],1),e._v(" avec wrapper.vm.  Ceci n'existe que pour le wrapper du composant Vue ou le wrapper du composant Vue liant les HTMLElement .")]),e._v(" "),r("h3",{attrs:{id:"element"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#element"}},[e._v("#")]),e._v(" "),r("code",[e._v("element")])]),e._v(" "),r("p",[e._v("HTMLElement (lecture seule) : le nœud DOM racine de l'enveloppe")]),e._v(" "),r("h3",{attrs:{id:"options"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#options"}},[e._v("#")]),e._v(" "),r("code",[e._v("options")])]),e._v(" "),r("h4",{attrs:{id:"options-attachedtodocument"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#options-attachedtodocument"}},[e._v("#")]),e._v(" "),r("code",[e._v("options.attachedToDocument")])]),e._v(" "),r("p",[r("code",[e._v("Boolean")]),e._v(" (read-only): "),r("code",[e._v("true")]),e._v(" if component is "),r("a",{attrs:{href:"https://vue-test-utils.vuejs.org/api/options.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("attached to document"),r("OutboundLink")],1),e._v(" when rendered.\nBooléen (lecture seule) : vrai si le composant est "),r("a",{attrs:{href:"https://vue-test-utils.vuejs.org/api/options.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("joint au document"),r("OutboundLink")],1),e._v(" lors de son rendu.")]),e._v(" "),r("h3",{attrs:{id:"selector"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#selector"}},[e._v("#")]),e._v(" "),r("code",[e._v("selector")])]),e._v(" "),r("p",[e._v("Sélecteur : le sélecteur qui a été utilisé par "),r("a",{attrs:{href:"https://vue-test-utils.vuejs.org/api/wrapper/find.html",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("find()")]),r("OutboundLink")],1),e._v(" ou "),r("a",{attrs:{href:"https://vue-test-utils.vuejs.org/api/wrapper/findAll.html",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("findAll()")]),r("OutboundLink")],1),e._v(" pour créer cette enveloppe")]),e._v(" "),r("h2",{attrs:{id:"methods"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#methods"}},[e._v("#")]),e._v(" Methods")]),e._v(" "),r("h2",{attrs:{id:"attributes"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#attributes"}},[e._v("#")]),e._v(" attributes")]),e._v(" "),r("p",[e._v('Renvoie l\'objet attribut de nœud DOM "Wrapper". Si la "clé" est fournie, la valeur de la "clé" sera renvoyée.')]),e._v(" "),r("ul",[r("li",[r("p",[r("strong",[e._v("Arguments:")])]),e._v(" "),r("ul",[r("li",[r("code",[e._v("{string} key")]),e._v(" "),r("strong",[e._v("facultatif")])])])]),e._v(" "),r("li",[r("p",[r("strong",[e._v("Retours:")]),e._v(" "),r("code",[e._v("{[attribute: string]: any} | string")])])]),e._v(" "),r("li",[r("p",[r("strong",[e._v("Exemple:")])])])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("import { mount } from '@vue/test-utils'\nimport Foo from './Foo.vue'\n\nconst wrapper = mount(Foo)\nexpect(wrapper.attributes().id).toBe('foo')\nexpect(wrapper.attributes('id')).toBe('foo')\n\n")])])]),r("h2",{attrs:{id:"classes"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#classes"}},[e._v("#")]),e._v(" classes")]),e._v(" "),r("p",[e._v('Retourne les classes de nœuds DOM "Wrapper".')]),e._v(" "),r("p",[e._v("Retourne un tableau de noms de classes ou un booléen si un nom de classe est fourni.")]),e._v(" "),r("ul",[r("li",[r("p",[r("strong",[e._v("Arguments:")])]),e._v(" "),r("ul",[r("li",[r("code",[e._v("{string} className")]),e._v(" "),r("strong",[e._v("facultatif")])])])]),e._v(" "),r("li",[r("p",[r("strong",[e._v("Retours:")]),e._v(" "),r("code",[e._v("Array<{string}> | boolean")])])]),e._v(" "),r("li",[r("p",[r("strong",[e._v("Exemple:")])])])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("import { mount } from '@vue/test-utils'\nimport Foo from './Foo.vue'\n\nconst wrapper = mount(Foo)\nexpect(wrapper.classes()).toContain('bar')\nexpect(wrapper.classes('bar')).toBe(true)\n\n")])])]),r("h2",{attrs:{id:"contains"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#contains"}},[e._v("#")]),e._v(" contains")]),e._v(" "),r("div",{staticClass:"custom-block danger"},[r("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),r("p",[r("em",[e._v('L\'utilisation de "Contains" est déconseillée et sera supprimée dans les prochaines versions. Utilisez '),r("a",{attrs:{href:"https://vue-test-utils.vuejs.org/api/wrapper/find.html",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("find")]),r("OutboundLink")],1),e._v(" pour les nœuds DOM (en utilisant la syntaxe "),r("code",[e._v("querySelector")]),e._v("), "),r("a",{attrs:{href:"https://vue-test-utils.vuejs.org/api/wrapper/findComponent.html",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("findComponent")]),r("OutboundLink")],1),e._v(" pour les composants, ou "),r("a",{attrs:{href:"https://vue-test-utils.vuejs.org/api/wrapper/get.html",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("wrapper.get")]),r("OutboundLink")],1),e._v(" à la place.")])])]),e._v(" "),r("p",[e._v("Assert "),r("code",[e._v("Wrapper")]),e._v(" contains an element or component matching "),r("a",{attrs:{href:"https://vue-test-utils.vuejs.org/api/selectors.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("selector"),r("OutboundLink")],1),e._v(".\nAffirmer que l'"),r("code",[e._v("Wrapper")]),e._v(" contient un élément ou un composant correspondant "),r("a",{attrs:{href:"https://vue-test-utils.vuejs.org/api/selectors.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("sélecteur"),r("OutboundLink")],1),e._v(".")]),e._v(" "),r("ul",[r("li",[r("p",[r("strong",[e._v("Arguments:")])]),e._v(" "),r("ul",[r("li",[r("code",[e._v("{string|Component} selector")])])])]),e._v(" "),r("li",[r("p",[r("strong",[e._v("Retours:")]),e._v(" "),r("code",[e._v("{boolean}")])])]),e._v(" "),r("li",[r("p",[r("strong",[e._v("Exemple:")])])])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("import { mount } from '@vue/test-utils'\nimport Foo from './Foo.vue'\nimport Bar from './Bar.vue'\n\nconst wrapper = mount(Foo)\nexpect(wrapper.contains('p')).toBe(true)\nexpect(wrapper.contains(Bar)).toBe(true)\n\n")])])]),r("ul",[r("li",[r("strong",[e._v("Voir aussi:")]),e._v(" "),r("a",{attrs:{href:"https://vue-test-utils.vuejs.org/api/selectors.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("sélectionneurs"),r("OutboundLink")],1)])]),e._v(" "),r("h2",{attrs:{id:"destroy"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#destroy"}},[e._v("#")]),e._v(" destroy")]),e._v(" "),r("p",[e._v("Détruit une instance du composant Vue.")]),e._v(" "),r("ul",[r("li",[r("strong",[e._v("Exemple:")])])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("import { mount } from '@vue/test-utils'\nimport sinon from 'sinon'\n\nconst spy = sinon.stub()\nmount({\n  render: null,\n  destroyed() {\n    spy()\n  }\n}).destroy()\nexpect(spy.calledOnce).toBe(true)\n\n")])])]),r("p",[e._v("si l'option "),r("code",[e._v("attachTo")]),e._v("ou "),r("code",[e._v("AttachToDocument")]),e._v(" a provoqué le montage du composant sur le document, les éléments du DOM du composant seront également supprimés du document.")]),e._v(" "),r("p",[e._v("Pour les composants fonctionnels, "),r("code",[e._v("destroy")]),e._v(" ne supprime du document que les éléments DOM rendus.")]),e._v(" "),r("h2",{attrs:{id:"emitted"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#emitted"}},[e._v("#")]),e._v(" emitted")]),e._v(" "),r("p",[e._v("Renvoie un objet contenant des événements personnalisés émis par le "),r("code",[e._v("Wrapper")]),e._v(" "),r("code",[e._v("vm")]),e._v(".")]),e._v(" "),r("ul",[r("li",[r("p",[r("strong",[e._v("Retours:")]),e._v(" "),r("code",[e._v("{ [name: string]: Array<Array<any>> }")])])]),e._v(" "),r("li",[r("p",[r("strong",[e._v("Exemple:")])])])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("import { mount } from '@vue/test-utils'\n\ntest('emit demo', async () => {\n  const wrapper = mount(Component)\n\n  wrapper.vm.$emit('foo')\n  wrapper.vm.$emit('foo', 123)\n\n  await wrapper.vm.$nextTick() // Wait until $emits have been handled\n\n  /*\n  wrapper.emitted() returns the following object:\n  {\n    foo: [[], [123]]\n  }\n  */\n\n  // Affirmation de l'élément émis\n  expect(wrapper.emitted().foo).toBeTruthy()\n\n  // Affirmation du nombre d'élément\n  expect(wrapper.emitted().foo.length).toBe(2)\n\n  // Affirmation du paramètre additionnel\n  expect(wrapper.emitted().foo[1]).toEqual([123])\n})\n\n")])])]),r("p",[e._v("Vous pouvez également écrire ce qui précède comme suit :")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("// Affirmation de l'élément émis\nexpect(wrapper.emitted('foo')).toBeTruthy()\n\n// Affirmation du nombre d'élément\nexpect(wrapper.emitted('foo').length).toBe(2)\n\n// Affirmation du paramètre additionnel\nexpect(wrapper.emitted('foo')[1]).toEqual([123])\n\n")])])]),r("p",[e._v("La méthode "),r("code",[e._v(".emitted()")]),e._v(" renvoie le même objet chaque fois qu'il est appelé, et non un nouveau, et donc l'objet se met à jour lorsque de nouveaux événements sont déclenchés :")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v('const emitted = wrapper.emitted()\n\nexpect(emitted.foo.length).toBe(1)\n\n// faire quelque chose pour que le "wrapper" émette l\'événement "foo"\n\nexpect(emitted.foo.length).toBe(2)\n\n')])])]),r("h2",{attrs:{id:"emittedbyorder"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#emittedbyorder"}},[e._v("#")]),e._v(" emittedByOrder")]),e._v(" "),r("div",{staticClass:"custom-block danger"},[r("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),r("p",[r("em",[e._v("Le terme "),r("code",[e._v("emittedByOrder")]),e._v(" est obsolète et sera supprimé dans les prochaines versions. Utilisez plutôt "),r("code",[e._v("wrapper.emitted")]),e._v(".")])])]),e._v(" "),r("p",[e._v("Retourne un tableau contenant des événements personnalisés émis par le "),r("code",[e._v("Wrapper")]),e._v(" "),r("code",[e._v("vm")]),e._v(".")]),e._v(" "),r("ul",[r("li",[r("p",[r("strong",[e._v("Retours:")]),e._v(" "),r("code",[e._v("Array<{ name: string, args: Array<any> }>")])])]),e._v(" "),r("li",[r("p",[r("strong",[e._v("Exemple:")])])])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("import { mount } from '@vue/test-utils'\n\nconst wrapper = mount(Component)\n\nwrapper.vm.$emit('foo')\nwrapper.vm.$emit('bar', 123)\n\n/*\nwrapper.emittedByOrder() renvoie le tableau suivant :\n[\n  { name: 'foo', args: [] },\n  { name: 'bar', args: [123] }\n]\n*/\n\n// faire valoir l'ordre d'émission d'événement\nexpect(wrapper.emittedByOrder().map(e => e.name)).toEqual(['foo', 'bar'])\n\n")])])]),r("h2",{attrs:{id:"exists"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#exists"}},[e._v("#")]),e._v(" exists")]),e._v(" "),r("p",[e._v("Affirmation de l'existence de "),r("code",[e._v("wrapper")]),e._v(" ou "),r("code",[e._v("wrapper-array")]),e._v(".")]),e._v(" "),r("p",[e._v("Renvoie faux si on l'appelle sur un "),r("code",[e._v("Wrapper")]),e._v(" ou "),r("code",[e._v("WrapperArray")]),e._v(" vide.")]),e._v(" "),r("ul",[r("li",[r("p",[r("strong",[e._v("Retours:")]),e._v(" "),r("code",[e._v("{boolean}")])])]),e._v(" "),r("li",[r("p",[r("strong",[e._v("Exemple:")])])])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("import { mount } from '@vue/test-utils'\nimport Foo from './Foo.vue'\n\nconst wrapper = mount(Foo)\nexpect(wrapper.exists()).toBe(true)\nexpect(wrapper.find('does-not-exist').exists()).toBe(false)\nexpect(wrapper.findAll('div').exists()).toBe(true)\nexpect(wrapper.findAll('does-not-exist').exists()).toBe(false)\n\n")])])]),r("h2",{attrs:{id:"find"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#find"}},[e._v("#")]),e._v(" find")]),e._v(" "),r("div",{staticClass:"custom-block danger"},[r("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),r("p",[r("em",[e._v('L\'utilisation de "find" pour rechercher un composant est déconseillée et sera supprimée. Utilisez plutôt '),r("a",{attrs:{href:"https://vue-test-utils.vuejs.org/api/wrapper/findComponent.html",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("findComponent")]),r("OutboundLink")],1),e._v(".")])])]),e._v(" "),r("p",[e._v('Retourne le "wrapper" du premier nœud DOM ou le sélecteur de composants Vue correspondant.')]),e._v(" "),r("p",[e._v("Utilisez n'importe quel sélecteur DOM valide (utilise la syntaxe "),r("code",[e._v("querySelector")]),e._v(").")]),e._v(" "),r("ul",[r("li",[r("p",[r("strong",[e._v("Arguments:")])]),e._v(" "),r("ul",[r("li",[r("code",[e._v("{string} selector")])])])]),e._v(" "),r("li",[r("p",[r("strong",[e._v("Retours:")]),e._v(" "),r("code",[e._v("{Wrapper}")])])]),e._v(" "),r("li",[r("p",[r("strong",[e._v("Exemple:")])])])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("import { mount } from '@vue/test-utils'\nimport Foo from './Foo.vue'\nimport Bar from './Bar.vue'\n\nconst wrapper = mount(Foo)\n\nconst div = wrapper.find('div')\nexpect(div.exists()).toBe(true)\n\nconst byId = wrapper.find('#bar')\nexpect(byId.element.id).toBe('bar')\n\n")])])]),r("ul",[r("li",[r("p",[r("strong",[e._v("Note:")])]),e._v(" "),r("ul",[r("li",[e._v("Vous pouvez enchaîner les appels "),r("code",[e._v("find")]),e._v(" ensemble :")])])])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("const button = wrapper.find({ ref: 'testButton' })\nexpect(button.find('.icon').exists()).toBe(true)\n\n")])])]),r("p",[e._v("Voir aussi : "),r("a",{attrs:{href:"https://vue-test-utils.vuejs.org/api/wrapper/get.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("get"),r("OutboundLink")],1),e._v(".")]),e._v(" "),r("h2",{attrs:{id:"findall"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#findall"}},[e._v("#")]),e._v(" findAll")]),e._v(" "),r("div",{staticClass:"custom-block danger"},[r("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),r("p",[r("em",[e._v("L'utilisation de "),r("code",[e._v("findAll")]),e._v(" pour rechercher des composants est obsolète et sera supprimée. Utilisez plutôt "),r("code",[e._v("findAllComponents")]),e._v(".")])])]),e._v(" "),r("p",[e._v("Retourne un "),r("a",{attrs:{href:"https://vue-test-utils.vuejs.org/api/wrapper-array/",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("WrapperArray")]),r("OutboundLink")],1),e._v(".")]),e._v(" "),r("p",[e._v("Utilisez n'importe quel "),r("a",{attrs:{href:"https://vue-test-utils.vuejs.org/api/selectors.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("sélecteur"),r("OutboundLink")],1),e._v(" valide.")]),e._v(" "),r("ul",[r("li",[r("p",[r("strong",[e._v("Arguments:")])]),e._v(" "),r("ul",[r("li",[r("code",[e._v("{string|Component} selector")])])])]),e._v(" "),r("li",[r("p",[r("strong",[e._v("Retours:")]),e._v(" "),r("code",[e._v("{WrapperArray}")])])]),e._v(" "),r("li",[r("p",[r("strong",[e._v("Exemple:")])])])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("import { mount } from '@vue/test-utils'\nimport Foo from './Foo.vue'\nimport Bar from './Bar.vue'\n\nconst wrapper = mount(Foo)\n\nconst div = wrapper.findAll('div').at(0)\nexpect(div.is('div')).toBe(true)\n\nconst bar = wrapper.findAll(Bar).at(0) // Deprecated usage\nexpect(bar.is(Bar)).toBe(true)\n\n")])])]),r("h2",{attrs:{id:"findcomponent"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#findcomponent"}},[e._v("#")]),e._v(" findComponent")]),e._v(" "),r("p",[e._v("Retourne le "),r("code",[e._v("wrapper")]),e._v(" du premier composant Vue correspondant.")]),e._v(" "),r("ul",[r("li",[r("p",[r("strong",[e._v("Arguments:")])]),e._v(" "),r("ul",[r("li",[r("code",[e._v("{Component|ref|name} selector")])])])]),e._v(" "),r("li",[r("p",[r("strong",[e._v("Retours:")]),e._v(" "),r("code",[e._v("{Wrapper}")])])]),e._v(" "),r("li",[r("p",[r("strong",[e._v("Exemple:")])])])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("import { mount } from '@vue/test-utils'\nimport Foo from './Foo.vue'\nimport Bar from './Bar.vue'\n\nconst wrapper = mount(Foo)\n\nconst bar = wrapper.findComponent(Bar) // => finds Bar by component instance\nexpect(bar.exists()).toBe(true)\nconst barByName = wrapper.findComponent({ name: 'bar' }) // => finds Bar by `name`\nexpect(barByName.exists()).toBe(true)\nconst barRef = wrapper.findComponent({ ref: 'bar' }) // => finds Bar by `ref`\nexpect(barRef.exists()).toBe(true)\n\n")])])]),r("h2",{attrs:{id:"findallcomponents"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#findallcomponents"}},[e._v("#")]),e._v(" findAllComponents")]),e._v(" "),r("p",[e._v("Retourne un "),r("a",{attrs:{href:"https://vue-test-utils.vuejs.org/api/wrapper-array/",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("WrapperArray")]),r("OutboundLink")],1),e._v(" de tous les composants Vue correspondants.")]),e._v(" "),r("ul",[r("li",[r("p",[r("strong",[e._v("Arguments:")])]),e._v(" "),r("ul",[r("li",[r("code",[e._v("{Component|ref|name} selector")])])])]),e._v(" "),r("li",[r("p",[r("strong",[e._v("Retours:")]),e._v(" "),r("code",[e._v("{WrapperArray}")])])]),e._v(" "),r("li",[r("p",[r("strong",[e._v("Exemple:")])])])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("import { mount } from '@vue/test-utils'\nimport Foo from './Foo.vue'\nimport Bar from './Bar.vue'\n\nconst wrapper = mount(Foo)\nconst bar = wrapper.findAllComponents(Bar).at(0)\nexpect(bar.exists()).toBeTruthy()\nconst bars = wrapper.findAllComponents(Bar)\nexpect(bar).toHaveLength(1)\n\n")])])]),r("h2",{attrs:{id:"html"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#html"}},[e._v("#")]),e._v(" html")]),e._v(" "),r("p",[e._v("Renvoie le HTML du nœud DOM "),r("code",[e._v("Wrapper")]),e._v(" sous forme de chaîne.")]),e._v(" "),r("ul",[r("li",[r("p",[r("strong",[e._v("Retours:")]),e._v(" "),r("code",[e._v("{string}")])])]),e._v(" "),r("li",[r("p",[r("strong",[e._v("Exemple:")])])])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("import { mount } from '@vue/test-utils'\nimport Foo from './Foo.vue'\n\nconst wrapper = mount(Foo)\nexpect(wrapper.html()).toBe('<div><p>Foo</p></div>')\n\n")])])]),r("h2",{attrs:{id:"get"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#get"}},[e._v("#")]),e._v(" get")]),e._v(" "),r("p",[e._v("Fonctionne exactement comme "),r("a",{attrs:{href:"https://vue-test-utils.vuejs.org/api/wrapper/find.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("find"),r("OutboundLink")],1),e._v(", mais lance une erreur si aucun élément correspondant au sélecteur donné n'est trouvé. Vous devez utiliser "),r("code",[e._v("find")]),e._v(" lorsque vous recherchez un élément qui peut ne pas exister. Vous devez utiliser cette méthode lorsque vous obtenez un élément qui devrait exister et elle fournira un beau message d'erreur si ce n'est pas le cas.")]),e._v(" "),r("p",[e._v("Traduit avec www.DeepL.com/Translator (version gratuite)")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("import { mount } from '@vue/test-utils'\n\nconst wrapper = mount(Foo)\n\n// Similaire à `wrapper.find`.\n// `get` lancera une erreur si un élément n'est pas trouvé. `find` ne fera rien.\nexpect(wrapper.get('.does-exist'))\n\nexpect(() => wrapper.get('.does-not-exist'))\n  .to.throw()\n  .with.property(\n    'message',\n    'Unable to find .does-not-exist within: <div>the actual DOM here...</div>'\n  )\n\n")])])]),r("h2",{attrs:{id:"is"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#is"}},[e._v("#")]),e._v(" is")]),e._v(" "),r("div",{staticClass:"custom-block danger"},[r("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),r("p",[r("em",[e._v("L'utilisation de "),r("code",[e._v("is")]),e._v(" pour affirmer que le nœud DOM ou le sélecteur de correspondance "),r("code",[e._v("vm")]),e._v(" est déprécié et sera supprimé. Considérez un appariement personnalisé tel que ceux fournis dans "),r("a",{attrs:{href:"https://github.com/testing-library/jest-dom#custom-matchers",target:"_blank",rel:"noopener noreferrer"}},[e._v("jest-dom"),r("OutboundLink")],1),e._v("ou pour l'assertion de type d'élément DOM, utilisez native "),r("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/Element/tagName",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("Element.tagName")]),r("OutboundLink")],1),r("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/Element/tagName",target:"_blank",rel:"noopener noreferrer"}},[r("OutboundLink")],1)])])]),e._v(" "),r("p",[e._v("A la place.")]),e._v(" "),r("p",[e._v("Pour conserver ces tests, un remplacement valable pour :")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("is('DOM_SELECTOR')")]),e._v(" est une affirmation de "),r("code",[e._v("wrapper.element.tagName")]),e._v(".")]),e._v(" "),r("li",[r("code",[e._v("is('ATTR_NAME')")]),e._v(" est une affirmation véridique de "),r("code",[e._v("wrapper.attributes('ATTR_NAME')")]),e._v(".")]),e._v(" "),r("li",[r("code",[e._v("is('CLASS_NAME')")]),e._v("  est une affirmation véridique de "),r("code",[e._v("wrapper.classes('CLASS_NAME')")]),e._v(".")])]),e._v(" "),r("p",[e._v("En cas d'utilisation avec findComponent, accédez à l'élément DOM avec "),r("code",[e._v("findComponent(Comp).element")]),e._v("\nAffirmer le nœud DOM "),r("code",[e._v("Wrapper")]),e._v(" ou les correspondances "),r("code",[e._v("vm")]),e._v(" [selector] (https://vue-test-utils.vuejs.org/api/selectors.html).")]),e._v(" "),r("ul",[r("li",[r("p",[r("strong",[e._v("Arguments:")])]),e._v(" "),r("ul",[r("li",[r("code",[e._v("{string|Component} selector")])])])]),e._v(" "),r("li",[r("p",[r("strong",[e._v("Retours:")]),e._v(" "),r("code",[e._v("{boolean}")])])]),e._v(" "),r("li",[r("p",[r("strong",[e._v("Exemple:")])])])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("import { mount } from '@vue/test-utils'\nimport Foo from './Foo.vue'\n\nconst wrapper = mount(Foo)\nexpect(wrapper.is('div')).toBe(true)\n\n")])])]),r("h2",{attrs:{id:"isempty"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#isempty"}},[e._v("#")]),e._v(" isEmpty")]),e._v(" "),r("div",{staticClass:"custom-block danger"},[r("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),r("p",[r("em",[r("code",[e._v("isEmpty")]),e._v(" est déprécié et sera supprimé dans les prochaines versions. Considérez un appariement personnalisé tel que ceux fournis dans [jest-dom] (https://github.com/testing-library/jest-dom#tobeempty)")])])]),e._v(" "),r("p",[e._v("En cas d'utilisation avec findComponent, accédez à l'élément DOM avec "),r("code",[e._v("findComponent(Comp).element")]),e._v(".")]),e._v(" "),r("p",[e._v("Affirmer que "),r("code",[e._v("Wrapper")]),e._v(" ne contient pas de noeud enfant.")]),e._v(" "),r("ul",[r("li",[r("p",[r("strong",[e._v("Retours:")]),e._v(" "),r("code",[e._v("{boolean}")])])]),e._v(" "),r("li",[r("p",[r("strong",[e._v("Exemple:")])])])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("import { mount } from '@vue/test-utils'\nimport Foo from './Foo.vue'\n\nconst wrapper = mount(Foo)\nexpect(wrapper.isEmpty()).toBe(true)\n\n")])])]),r("h2",{attrs:{id:"isvisible"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#isvisible"}},[e._v("#")]),e._v(" isVisible")]),e._v(" "),r("div",{staticClass:"custom-block danger"},[r("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),r("p",[r("em",[e._v("isVisible` est déprécié et sera supprimé dans les prochaines  versions.    Considérez un jumelage personnalisé tel que ceux fournis dans "),r("a",{attrs:{href:"https://github.com/testing-library/jest-dom#tobevisible",target:"_blank",rel:"noopener noreferrer"}},[e._v("jest-dom"),r("OutboundLink")],1)])])]),e._v(" "),r("p",[e._v("En cas d'utilisation avec findComponent, accédez à l'élément DOM avec "),r("code",[e._v("findComponent(Comp).element")]),e._v(".")]),e._v(" "),r("p",[e._v("Affirmer que "),r("code",[e._v("wrapper")]),e._v(" est visible.")]),e._v(" "),r("p",[e._v("Retourne "),r("code",[e._v("false")]),e._v(" si un vieil élément a le style "),r("code",[e._v("display : none")]),e._v(" ou "),r("code",[e._v("visibility : hidden")]),e._v(".")]),e._v(" "),r("p",[e._v("Ceci peut être utilisé pour affirmer qu'un élément est caché par "),r("code",[e._v("v-show")]),e._v(".")]),e._v(" "),r("ul",[r("li",[r("p",[r("strong",[e._v("Retours:")]),e._v(" "),r("code",[e._v("{boolean}")])])]),e._v(" "),r("li",[r("p",[r("strong",[e._v("Exemple:")])])])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("import { mount } from '@vue/test-utils'\nimport Foo from './Foo.vue'\n\nconst wrapper = mount(Foo)\nexpect(wrapper.isVisible()).toBe(true)\nexpect(wrapper.find('.is-not-visible').isVisible()).toBe(false)\n\n")])])]),r("h2",{attrs:{id:"isvueinstance"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#isvueinstance"}},[e._v("#")]),e._v(" isVueInstance")]),e._v(" "),r("div",{staticClass:"custom-block danger"},[r("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),r("p",[r("em",[r("code",[e._v("isVueInstance")]),e._v(" est dépréciée et sera supprimée dans les prochaines versions. Les tests reposant sur l'affirmation "),r("code",[e._v("isVueInstance")]),e._v(" n'ont que peu ou pas de valeur. Nous suggérons de les remplacer par des assertions ciblées.")])])]),e._v(" "),r("p",[e._v("Pour conserver ces tests, un remplacement valable de "),r("code",[e._v("isVueInstance()")]),e._v(" est une assertion véridique de "),r("code",[e._v("wrapper.find(...).vm")]),e._v(".")]),e._v(" "),r("p",[e._v("L'assertion "),r("code",[e._v("Wrapper")]),e._v(" est l'instance de Vue.")]),e._v(" "),r("ul",[r("li",[r("p",[r("strong",[e._v("Retours:")]),e._v(" "),r("code",[e._v("{boolean}")])])]),e._v(" "),r("li",[r("p",[r("strong",[e._v("Exemple:")])])])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("import { mount } from '@vue/test-utils'\nimport Foo from './Foo.vue'\n\nconst wrapper = mount(Foo)\nexpect(wrapper.isVueInstance()).toBe(true)\n\n")])])]),r("h2",{attrs:{id:"name"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#name"}},[e._v("#")]),e._v(" name")]),e._v(" "),r("div",{staticClass:"custom-block danger"},[r("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),r("p",[r("em",[r("code",[e._v("name")]),e._v(" est dépréciée et sera supprimée dans les prochaines versions.")])])]),e._v(" "),r("p",[e._v("Retourne le nom du composant si "),r("code",[e._v("Wrapper")]),e._v(" contient une instance de Vue, ou le nom du tag du noeud DOM "),r("code",[e._v("Wrapper")]),e._v(" si "),r("code",[e._v("Wrapper")]),e._v(" ne contient pas d'instance de Vue.")]),e._v(" "),r("ul",[r("li",[r("p",[r("strong",[e._v("Retours:")]),e._v(" "),r("code",[e._v("{string}")])])]),e._v(" "),r("li",[r("p",[r("strong",[e._v("Exemple:")])])])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("import { mount } from '@vue/test-utils'\nimport Foo from './Foo.vue'\n\nconst wrapper = mount(Foo)\nexpect(wrapper.name()).toBe('Foo')\nconst p = wrapper.find('p')\nexpect(p.name()).toBe('p')\n\n")])])]),r("h2",{attrs:{id:"props"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#props"}},[e._v("#")]),e._v(" props")]),e._v(" "),r("p",[e._v("Retourne l'objet props "),r("code",[e._v("Wrapper")]),e._v(" "),r("code",[e._v("vm")]),e._v(".  Si "),r("code",[e._v("key")]),e._v(' est fourni, la valeur pour "key" sera retournée.')]),e._v(" "),r("p",[r("strong",[e._v("Note : le Wrapper doit contenir une instance de Vue.")])]),e._v(" "),r("ul",[r("li",[r("p",[r("strong",[e._v("Arguments:")])]),e._v(" "),r("ul",[r("li",[r("code",[e._v("{string} key")]),e._v(" "),r("strong",[e._v("facultatif")])])])]),e._v(" "),r("li",[r("p",[r("strong",[e._v("Retours:")]),e._v(" "),r("code",[e._v("{[prop: string]: any} | any")])])]),e._v(" "),r("li",[r("p",[r("strong",[e._v("Exemple:")])])])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("import { mount } from '@vue/test-utils'\nimport Foo from './Foo.vue'\n\nconst wrapper = mount(Foo, {\n  propsData: {\n    bar: 'baz'\n  }\n})\nexpect(wrapper.props().bar).toBe('baz')\nexpect(wrapper.props('bar')).toBe('baz')\n\n")])])]),r("h2",{attrs:{id:"setchecked"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#setchecked"}},[e._v("#")]),e._v(" setChecked")]),e._v(" "),r("p",[e._v("Définit la valeur cochée pour l'élément d'entrée de type case à cocher ou radio et met à jour les données liées au "),r("code",[e._v("modèle V")]),e._v(".")]),e._v(" "),r("ul",[r("li",[r("p",[r("strong",[e._v("Arguments:")])]),e._v(" "),r("ul",[r("li",[r("code",[e._v("{Boolean} checked (default: true)")])])])]),e._v(" "),r("li",[r("p",[r("strong",[e._v("Exemple:")])])])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("import { mount } from '@vue/test-utils'\nimport Foo from './Foo.vue'\n\nconst wrapper = mount(Foo)\nconst radioInput = wrapper.find('input[type=\"radio\"]')\nradioInput.setChecked()\n\n")])])]),r("ul",[r("li",[r("strong",[e._v("Note:")])])]),e._v(" "),r("p",[e._v("Lorsque vous essayez de mettre la valeur à state via "),r("code",[e._v("v-model")]),e._v(" par "),r("code",[e._v("radioInput.element.checked = true ; radioInput.trigger('input')")]),e._v(", "),r("code",[e._v("v-model")]),e._v(" n'est pas déclenché. Le "),r("code",[e._v("v-model")]),e._v(" est déclenché par l'événement "),r("code",[e._v("change")]),e._v(".")]),e._v(" "),r("p",[r("code",[e._v("checkboxInput.setChecked(checked)")]),e._v(" est un alias du code suivant.")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("checkboxInput.element.checked = checked\ncheckboxInput.trigger('click')\ncheckboxInput.trigger('change')\n\n")])])]),r("h2",{attrs:{id:"setdata"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#setdata"}},[e._v("#")]),e._v(" setData")]),e._v(" "),r("p",[e._v('Définit les données "Wrapper" "vm".')]),e._v(" "),r("p",[e._v("setData fonctionne en appelant récursivement Vue.set.")]),e._v(" "),r("p",[r("strong",[e._v("Note the Wrapper must contain a Vue instance.")])]),e._v(" "),r("ul",[r("li",[r("p",[r("strong",[e._v("Arguments:")])]),e._v(" "),r("ul",[r("li",[r("code",[e._v("{Object} data")])])])]),e._v(" "),r("li",[r("p",[r("strong",[e._v("Exemple:")])])])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("import { mount } from '@vue/test-utils'\nimport Foo from './Foo.vue'\n\nconst wrapper = mount(Foo)\nwrapper.setData({ foo: 'bar' })\nexpect(wrapper.vm.foo).toBe('bar')\n\n")])])]),r("h2",{attrs:{id:"setmethods"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#setmethods"}},[e._v("#")]),e._v(" setMethods")]),e._v(" "),r("div",{staticClass:"custom-block danger"},[r("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),r("p",[r("em",[r("code",[e._v("setMethods")]),e._v(" est dépréciée et sera supprimée dans les prochaines versions.")])])]),e._v(" "),r("p",[e._v("Il n'y a pas de voie claire pour remplacer les \"setMethods\", car cela dépend vraiment de votre utilisation précédente. Cela conduit facilement à des tests bancals qui s'appuient sur des détails d'implémentation, ce qui "),r("a",{attrs:{href:"https://github.com/vuejs/rfcs/blob/668866fa71d70322f6a7689e88554ab27d349f9c/active-rfcs/0000-vtu-api.md#setmethods",target:"_blank",rel:"noopener noreferrer"}},[e._v("est déconseillé"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("Nous suggérons de repenser ces tests.")]),e._v(" "),r("p",[e._v("Pour mettre au point une méthode complexe, il faut l'extraire du composant et le tester de manière isolée. Pour affirmer qu'une méthode est appelée, utilisez votre testeur pour l'espionner.")]),e._v(" "),r("p",[e._v("Définit les méthodes "),r("code",[e._v("Wrapper")]),e._v(" "),r("code",[e._v("vm")]),e._v(" et met à jour les forces.")]),e._v(" "),r("p",[r("strong",[e._v("Note : le Wrapper doit contenir une instance de Vue.")])]),e._v(" "),r("ul",[r("li",[r("p",[r("strong",[e._v("Arguments:")])]),e._v(" "),r("ul",[r("li",[r("code",[e._v("{Object} methods")])])])]),e._v(" "),r("li",[r("p",[r("strong",[e._v("Exemple:")])])])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("import { mount } from '@vue/test-utils'\nimport sinon from 'sinon'\nimport Foo from './Foo.vue'\n\nconst wrapper = mount(Foo)\nconst clickMethodStub = sinon.stub()\n\nwrapper.setMethods({ clickMethod: clickMethodStub })\nwrapper.find('button').trigger('click')\nexpect(clickMethodStub.called).toBe(true)\n\n")])])]),r("h2",{attrs:{id:"setprops"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#setprops"}},[e._v("#")]),e._v(" setProps")]),e._v(" "),r("ul",[r("li",[r("p",[r("strong",[e._v("Arguments:")])]),e._v(" "),r("ul",[r("li",[r("code",[e._v("{Object} props")])])])]),e._v(" "),r("li",[r("p",[r("strong",[e._v("Usage:")])])])]),e._v(" "),r("p",[e._v("Définir les props de "),r("code",[e._v("Wrapper")]),e._v(" "),r("code",[e._v("vm")]),e._v(" et forcer à mettre à jour")]),e._v(" "),r("p",[r("strong",[e._v("Note : le Wrapper doit contenir une instance de Vue.")])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("import { mount } from '@vue/test-utils'\nimport Foo from './Foo.vue'\n\nconst wrapper = mount(Foo)\nwrapper.setProps({ foo: 'bar' })\nexpect(wrapper.vm.foo).toBe('bar')\n\n")])])]),r("p",[e._v("Vous pouvez également passer un objet "),r("code",[e._v("propsData")]),e._v(", qui initialisera l'instance de Vue avec les valeurs passées.")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("// Foo.vue\nexport default {\n  props: {\n    foo: {\n      type: String,\n      required: true\n    }\n  }\n}\n\n")])])]),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("import { mount } from '@vue/test-utils'\nimport Foo from './Foo.vue'\n\nconst wrapper = mount(Foo, {\n  propsData: {\n    foo: 'bar'\n  }\n})\n\nexpect(wrapper.vm.foo).toBe('bar')\n\n")])])]),r("h2",{attrs:{id:"setselected"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#setselected"}},[e._v("#")]),e._v(" setSelected")]),e._v(" "),r("p",[e._v("Sélectionne un élément d'option et met à jour les données liées au "),r("code",[e._v("v-model")]),e._v(".")]),e._v(" "),r("ul",[r("li",[r("strong",[e._v("Exemple:")])])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("import { mount } from '@vue/test-utils'\nimport Foo from './Foo.vue'\n\nconst wrapper = mount(Foo)\nconst options = wrapper.find('select').findAll('option')\n\noptions.at(1).setSelected()\n\n")])])]),r("ul",[r("li",[r("strong",[e._v("Note:")])])]),e._v(" "),r("p",[e._v("Lorsque vous essayez de mettre la valeur à state via "),r("code",[e._v("v-model")]),e._v(" par "),r("code",[e._v("option.element.selected = true ; parentSelect.trigger('input')")]),e._v(", "),r("code",[e._v("v-model")]),e._v(" n'est pas déclenché. Le "),r("code",[e._v("v-model")]),e._v(" est déclenché par l'événement "),r("code",[e._v("change")]),e._v(".")]),e._v(" "),r("p",[r("code",[e._v("option.setSelected()")]),e._v(" est un alias du code suivant.")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("option.element.selected = true\nparentSelect.trigger('change')\n\n")])])]),r("h2",{attrs:{id:"setvalue"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#setvalue"}},[e._v("#")]),e._v(" setValue")]),e._v(" "),r("p",[e._v("Définit la valeur d'une entrée de contrôle de texte ou d'un élément de sélection et met à jour les données liées au"),r("code",[e._v("v-model")]),e._v(".")]),e._v(" "),r("ul",[r("li",[r("p",[r("strong",[e._v("Arguments:")])]),e._v(" "),r("ul",[r("li",[r("code",[e._v("{any} value")])])])]),e._v(" "),r("li",[r("p",[r("strong",[e._v("Exemple:")])])])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("import { mount } from '@vue/test-utils'\nimport Foo from './Foo.vue'\n\nconst wrapper = mount(Foo)\n\nconst textInput = wrapper.find('input[type=\"text\"]')\ntextInput.setValue('some value')\n\nconst select = wrapper.find('select')\nselect.setValue('option value')\n\n// nécessite <select multiple>\nconst multiselect = wrapper.find('select')\nmultiselect.setValue(['value1', 'value3'])\n\n")])])]),r("ul",[r("li",[r("p",[r("strong",[e._v("Note:")])]),e._v(" "),r("ul",[r("li",[r("code",[e._v("textInput.setValue(value)")]),e._v(" est un alias du code suivant.")])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("textInput.element.value = value\ntextInput.trigger('input')\n\n")])])]),r("ul",[r("li",[r("code",[e._v("select.setValue(value)")]),e._v(" est un alias du code suivant.")])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("select.element.value = value\nselect.trigger('change')\n\n")])])])])]),e._v(" "),r("h2",{attrs:{id:"text"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#text"}},[e._v("#")]),e._v(" text")]),e._v(" "),r("p",[e._v("Renvoie le contenu textuel de"),r("code",[e._v("Wrapper")]),e._v(".")]),e._v(" "),r("ul",[r("li",[r("p",[r("strong",[e._v("Retours:")]),e._v(" "),r("code",[e._v("{string}")])])]),e._v(" "),r("li",[r("p",[r("strong",[e._v("Exemple:")])])])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("import { mount } from '@vue/test-utils'\nimport Foo from './Foo.vue'\n\nconst wrapper = mount(Foo)\nexpect(wrapper.text()).toBe('bar')\n\n")])])]),r("h2",{attrs:{id:"trigger"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#trigger"}},[e._v("#")]),e._v(" trigger")]),e._v(" "),r("p",[e._v("Déclenche un événement de manière asynchrone sur le nœud DOM de l'"),r("code",[e._v("Wrapper")]),e._v(".")]),e._v(" "),r("p",[e._v("Le "),r("code",[e._v("trigger")]),e._v(" prend un objet "),r("code",[e._v("options")]),e._v(" optionnel. Les propriétés de l'objet "),r("code",[e._v("options")]),e._v(" sont ajoutées à l'événement. "),r("code",[e._v("trigger")]),e._v(" renvoie une Promesse, qui une fois résolue, garantit la mise à jour du composant. "),r("code",[e._v("trigger")]),e._v(" ne fonctionne qu'avec les événements DOM natifs. Pour émettre un événement personnalisé, utilisez "),r("code",[e._v("wrapper.vm.$emit('myCustomEvent')")]),e._v(".")]),e._v(" "),r("ul",[r("li",[r("p",[r("strong",[e._v("Arguments:")])]),e._v(" "),r("ul",[r("li",[r("code",[e._v("{string} eventType")]),e._v(" "),r("strong",[e._v("required")])]),e._v(" "),r("li",[r("code",[e._v("{Object} options")]),e._v(" "),r("strong",[e._v("optional")])])])]),e._v(" "),r("li",[r("p",[r("strong",[e._v("Exemple:")])])])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("import { mount } from '@vue/test-utils'\nimport sinon from 'sinon'\nimport Foo from './Foo'\n\ntest('trigger demo', async () => {\n  const clickHandler = sinon.stub()\n  const wrapper = mount(Foo, {\n    propsData: { clickHandler }\n  })\n\n  await wrapper.trigger('click')\n\n  await wrapper.trigger('click', {\n    button: 0\n  })\n\n  await wrapper.trigger('click', {\n    ctrlKey: true // For testing @click.ctrl handlers\n  })\n\n  expect(clickHandler.called).toBe(true)\n})\n\n")])])]),r("ul",[r("li",[r("strong",[e._v("Définir l'objectif de l'événement:")])])]),e._v(" "),r("p",[e._v("Sous le capot, "),r("code",[e._v("trigger")]),e._v(" crée un objet "),r("code",[e._v("Event")]),e._v(" et propage l'événement sur l'élément Wrapper.")]),e._v(" "),r("p",[e._v("Il n'est pas possible de modifier la valeur "),r("code",[e._v("target")]),e._v(" d'un objet "),r("code",[e._v("Event")]),e._v(", donc vous ne pouvez pas définir "),r("code",[e._v("target")]),e._v(" dans l'objet options.")]),e._v(" "),r("p",[e._v("Pour ajouter un attribut à la \"cible\", vous devez définir la valeur de l'élément Wrapper avant d'appeler le "),r("code",[e._v("trigger")]),e._v(" Vous pouvez le faire avec la propriété "),r("code",[e._v("element")]),e._v(".")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("const input = wrapper.find('input')\ninput.element.value = 100\ninput.trigger('click')\n\n")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);