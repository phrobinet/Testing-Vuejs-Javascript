(window.webpackJsonp=window.webpackJsonp||[]).push([[130],{477:function(t,e,s){"use strict";s.r(e);var a=s(42),n=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"utilisation-d-autres-testeurs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#utilisation-d-autres-testeurs"}},[t._v("#")]),t._v(" Utilisation d'autres testeurs")]),t._v(" "),s("h3",{attrs:{id:"fonctionnement-de-vue-test-utils-avec-karma"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fonctionnement-de-vue-test-utils-avec-karma"}},[t._v("#")]),t._v(" Fonctionnement de Vue Test Utils avec Karma")]),t._v(" "),s("p",[s("a",{attrs:{href:"http://karma-runner.github.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Karma"),s("OutboundLink")],1),t._v(" est un programme de test qui lance des navigateurs, effectue des tests et nous les rapporte.")]),t._v(" "),s("p",[t._v("En plus de Karma, vous pouvez utiliser le cadre "),s("a",{attrs:{href:"https://mochajs.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Mocha"),s("OutboundLink")],1),t._v(" pour écrire les tests, et la bibliothèque "),s("a",{attrs:{href:"http://chaijs.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Chai"),s("OutboundLink")],1),t._v(" pour les assertions des tests. Vous pouvez également consulter "),s("a",{attrs:{href:"http://sinonjs.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Sinon"),s("OutboundLink")],1),t._v(" pour créer des spies et des stubs")]),t._v(" "),s("p",[t._v("Vous trouverez ci-dessous une configuration de base de Karma pour Vue Test Utils :")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// karma.conf.js")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" webpackConfig "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./webpack.config.js'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nmodule"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("exports")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("config")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  config"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    frameworks"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mocha'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    files"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test/**/*.spec.js'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    webpack"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" webpackConfig"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    reporters"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'spec'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    browsers"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Chrome'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    preprocessors"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'**/*.spec.js'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'webpack'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sourcemap'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"fonctionnement-de-vue-test-utils-avec-mocha-webpack"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fonctionnement-de-vue-test-utils-avec-mocha-webpack"}},[t._v("#")]),t._v(" Fonctionnement de Vue Test Utils avec mocha-webpack")]),t._v(" "),s("p",[t._v("Une autre stratégie pour tests les SFC consiste à compiler tous nos tests via la webpack et à les exécuter ensuite dans un testeur. L'avantage de cette approche est qu'elle nous donne un support complet pour toutes les fonctionnalités du webpack et du "),s("code",[t._v("vue-loader")]),t._v(", donc nous n'avons pas à faire de compromis dans notre code source.")]),t._v(" "),s("p",[t._v("Nous avons trouvé "),s("a",{attrs:{href:"https://github.com/sysgears/mochapack",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("mochapack")]),s("OutboundLink")],1),t._v(" qui nous offre une expérience très simplifiée pour cette tâche particulière.")]),t._v(" "),s("p",[t._v("La première chose à faire est d'installer des dépendances de test :")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" --save-dev @vue/test-utils mocha mochapack\n")])])]),s("p",[t._v("Après avoir installé Vue Test Utils et "),s("code",[t._v("mochapack")]),t._v(", vous devez définir un script de test dans votre "),s("code",[t._v("package.json")]),t._v(" :")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// package.json")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scripts"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"test"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mochapack --webpack-config webpack.config.js --require test/setup.js test/**/*.spec.js"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"fonctionnement-de-vue-test-utils-sans-etape-de-construction"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fonctionnement-de-vue-test-utils-sans-etape-de-construction"}},[t._v("#")]),t._v(" Fonctionnement de Vue Test Utils sans étape de construction")]),t._v(" "),s("p",[t._v("Alors qu'il est courant de construire des applications Vue en utilisant des outils tels que "),s("a",{attrs:{href:"https://webpack.js.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("webpack"),s("OutboundLink")],1),t._v(" pour regrouper l'application, "),s("code",[t._v("vue-loader")]),t._v(" pour exploiter les composants de fichiers uniques, il est possible d'utiliser beaucoup moins les Vue Test Utils . Les exigences minimales pour les Vue Test Utils, en dehors de la bibliothèque elle-même, sont les suivantes :")]),t._v(" "),s("ul",[s("li",[t._v("Vue")]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/vuejs/vue/tree/dev/packages/vue-template-compiler#readme",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue-template-compiler"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("a DOM (be it "),s("a",{attrs:{href:"https://github.com/jsdom/jsdom",target:"_blank",rel:"noopener noreferrer"}},[t._v("jsdom"),s("OutboundLink")],1),t._v(" in a Node environment, or the DOM in a real browser)")])]),t._v(" "),s("p",[t._v("Notez que "),s("code",[t._v("jsdom")]),t._v("(ou toute autre implémentation de DOM) doit être requis avant les Vue Test Utils, car il s'attend à ce qu'un DOM (vrai DOM, ou JSDOM) existe.\nNotice that "),s("code",[t._v("jsdom")]),t._v("(or any other DOM implementation) must be required before Vue Test Utils, because it expects a DOM (real DOM, or JSDOM) to exist.")])])}),[],!1,null,null,null);e.default=n.exports}}]);