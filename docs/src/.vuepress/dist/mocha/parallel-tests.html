<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>PARALLEL TESTS | Test in Javascript</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="Testing Vuejs and JS">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.d6ea9e36.css" as="style"><link rel="preload" href="/assets/js/app.d1ae5048.js" as="script"><link rel="preload" href="/assets/js/2.76e9c098.js" as="script"><link rel="preload" href="/assets/js/89.3d076e90.js" as="script"><link rel="prefetch" href="/assets/js/10.bd6fd6a5.js"><link rel="prefetch" href="/assets/js/100.526beb17.js"><link rel="prefetch" href="/assets/js/101.f995e08a.js"><link rel="prefetch" href="/assets/js/102.22b2111b.js"><link rel="prefetch" href="/assets/js/103.3afe0174.js"><link rel="prefetch" href="/assets/js/104.dae01ab8.js"><link rel="prefetch" href="/assets/js/105.c87ae376.js"><link rel="prefetch" href="/assets/js/106.b9540579.js"><link rel="prefetch" href="/assets/js/107.9e618f32.js"><link rel="prefetch" href="/assets/js/108.190a5b42.js"><link rel="prefetch" href="/assets/js/109.4e7ba93d.js"><link rel="prefetch" href="/assets/js/11.1abf9ce7.js"><link rel="prefetch" href="/assets/js/110.fd78f6f5.js"><link rel="prefetch" href="/assets/js/111.b0f1aaaa.js"><link rel="prefetch" href="/assets/js/112.ef87212a.js"><link rel="prefetch" href="/assets/js/113.75977a51.js"><link rel="prefetch" href="/assets/js/114.e3897a27.js"><link rel="prefetch" href="/assets/js/115.f2334e85.js"><link rel="prefetch" href="/assets/js/116.51e5341b.js"><link rel="prefetch" href="/assets/js/117.a603d78c.js"><link rel="prefetch" href="/assets/js/118.d53d5091.js"><link rel="prefetch" href="/assets/js/119.fcdcb6c1.js"><link rel="prefetch" href="/assets/js/12.48bd50ee.js"><link rel="prefetch" href="/assets/js/120.8fc7aebd.js"><link rel="prefetch" href="/assets/js/121.9001e742.js"><link rel="prefetch" href="/assets/js/122.8f1ab7a2.js"><link rel="prefetch" href="/assets/js/123.ddb68579.js"><link rel="prefetch" href="/assets/js/124.bf1c53a8.js"><link rel="prefetch" href="/assets/js/125.d27fc259.js"><link rel="prefetch" href="/assets/js/126.f5548fb5.js"><link rel="prefetch" href="/assets/js/127.0996623c.js"><link rel="prefetch" href="/assets/js/128.9ccd4f28.js"><link rel="prefetch" href="/assets/js/129.202b8d34.js"><link rel="prefetch" href="/assets/js/13.85e5e853.js"><link rel="prefetch" href="/assets/js/130.23d512d2.js"><link rel="prefetch" href="/assets/js/131.507f0a24.js"><link rel="prefetch" href="/assets/js/132.7b5e092b.js"><link rel="prefetch" href="/assets/js/133.ca15a121.js"><link rel="prefetch" href="/assets/js/134.69d0134a.js"><link rel="prefetch" href="/assets/js/135.f33113d5.js"><link rel="prefetch" href="/assets/js/136.913b4e20.js"><link rel="prefetch" href="/assets/js/137.16923c5f.js"><link rel="prefetch" href="/assets/js/138.9467f55e.js"><link rel="prefetch" href="/assets/js/139.dc298359.js"><link rel="prefetch" href="/assets/js/14.96e244db.js"><link rel="prefetch" href="/assets/js/140.68b10c4e.js"><link rel="prefetch" href="/assets/js/141.c1484124.js"><link rel="prefetch" href="/assets/js/142.e9ebe17f.js"><link rel="prefetch" href="/assets/js/143.dacf248f.js"><link rel="prefetch" href="/assets/js/144.6ed11591.js"><link rel="prefetch" href="/assets/js/145.99f4b5b5.js"><link rel="prefetch" href="/assets/js/146.fa8e7df1.js"><link rel="prefetch" href="/assets/js/147.7bc87a1c.js"><link rel="prefetch" href="/assets/js/148.8066b51c.js"><link rel="prefetch" href="/assets/js/149.5dbe4aa2.js"><link rel="prefetch" href="/assets/js/15.a8754c4f.js"><link rel="prefetch" href="/assets/js/150.5da3d19c.js"><link rel="prefetch" href="/assets/js/151.9a5df617.js"><link rel="prefetch" href="/assets/js/152.f9aeae5a.js"><link rel="prefetch" href="/assets/js/153.f2ed0ad0.js"><link rel="prefetch" href="/assets/js/154.6dbf84bb.js"><link rel="prefetch" href="/assets/js/155.61d20e69.js"><link rel="prefetch" href="/assets/js/156.cd1ff73b.js"><link rel="prefetch" href="/assets/js/157.6e0512cc.js"><link rel="prefetch" href="/assets/js/158.c5d99a50.js"><link rel="prefetch" href="/assets/js/159.48cb92fe.js"><link rel="prefetch" href="/assets/js/16.95db1a40.js"><link rel="prefetch" href="/assets/js/160.81eedd9c.js"><link rel="prefetch" href="/assets/js/161.af4d598a.js"><link rel="prefetch" href="/assets/js/162.8a5009f9.js"><link rel="prefetch" href="/assets/js/163.d06036fa.js"><link rel="prefetch" href="/assets/js/164.52bac468.js"><link rel="prefetch" href="/assets/js/165.822410e3.js"><link rel="prefetch" href="/assets/js/166.70639e76.js"><link rel="prefetch" href="/assets/js/167.7ebb3146.js"><link rel="prefetch" href="/assets/js/168.861b108a.js"><link rel="prefetch" href="/assets/js/169.37f354c1.js"><link rel="prefetch" href="/assets/js/17.755e0cd0.js"><link rel="prefetch" href="/assets/js/170.199c205f.js"><link rel="prefetch" href="/assets/js/171.07b6c594.js"><link rel="prefetch" href="/assets/js/172.7450c9cc.js"><link rel="prefetch" href="/assets/js/173.6ddd0caa.js"><link rel="prefetch" href="/assets/js/174.798df459.js"><link rel="prefetch" href="/assets/js/175.e7210406.js"><link rel="prefetch" href="/assets/js/176.ed19d38d.js"><link rel="prefetch" href="/assets/js/177.86130459.js"><link rel="prefetch" href="/assets/js/178.92a17429.js"><link rel="prefetch" href="/assets/js/179.bc960b78.js"><link rel="prefetch" href="/assets/js/18.b3b0e0e4.js"><link rel="prefetch" href="/assets/js/180.b5dc058a.js"><link rel="prefetch" href="/assets/js/181.cba0e05c.js"><link rel="prefetch" href="/assets/js/182.669fa11b.js"><link rel="prefetch" href="/assets/js/183.08879a5b.js"><link rel="prefetch" href="/assets/js/184.ea5be79c.js"><link rel="prefetch" href="/assets/js/185.fe190efd.js"><link rel="prefetch" href="/assets/js/186.16bc7c44.js"><link rel="prefetch" href="/assets/js/187.2817854a.js"><link rel="prefetch" href="/assets/js/188.f0b6fc01.js"><link rel="prefetch" href="/assets/js/189.15ed16d7.js"><link rel="prefetch" href="/assets/js/19.aabe0e7d.js"><link rel="prefetch" href="/assets/js/190.9633798e.js"><link rel="prefetch" href="/assets/js/191.3825489d.js"><link rel="prefetch" href="/assets/js/192.9efc9393.js"><link rel="prefetch" href="/assets/js/193.df1ad1b5.js"><link rel="prefetch" href="/assets/js/194.a9fe54f6.js"><link rel="prefetch" href="/assets/js/195.8c06d598.js"><link rel="prefetch" href="/assets/js/196.d2da5a7a.js"><link rel="prefetch" href="/assets/js/197.181e60eb.js"><link rel="prefetch" href="/assets/js/198.e740ebe2.js"><link rel="prefetch" href="/assets/js/199.9fea76d6.js"><link rel="prefetch" href="/assets/js/20.f904a1d1.js"><link rel="prefetch" href="/assets/js/200.3fcf59e3.js"><link rel="prefetch" href="/assets/js/201.4d048f0f.js"><link rel="prefetch" href="/assets/js/21.be6446d5.js"><link rel="prefetch" href="/assets/js/22.addf865a.js"><link rel="prefetch" href="/assets/js/23.28243e94.js"><link rel="prefetch" href="/assets/js/24.a2623906.js"><link rel="prefetch" href="/assets/js/25.fc837591.js"><link rel="prefetch" href="/assets/js/26.6c0a0e32.js"><link rel="prefetch" href="/assets/js/27.891cfb81.js"><link rel="prefetch" href="/assets/js/28.9325d706.js"><link rel="prefetch" href="/assets/js/29.5805cc76.js"><link rel="prefetch" href="/assets/js/3.a71648db.js"><link rel="prefetch" href="/assets/js/30.c432e70c.js"><link rel="prefetch" href="/assets/js/31.6675a2b4.js"><link rel="prefetch" href="/assets/js/32.8c411c1a.js"><link rel="prefetch" href="/assets/js/33.5a9df674.js"><link rel="prefetch" href="/assets/js/34.c3eda56a.js"><link rel="prefetch" href="/assets/js/35.d992cd89.js"><link rel="prefetch" href="/assets/js/36.bf1f26a9.js"><link rel="prefetch" href="/assets/js/37.47f86531.js"><link rel="prefetch" href="/assets/js/38.c1bf87fe.js"><link rel="prefetch" href="/assets/js/39.abf85565.js"><link rel="prefetch" href="/assets/js/4.2a77edb3.js"><link rel="prefetch" href="/assets/js/40.c6afcce6.js"><link rel="prefetch" href="/assets/js/41.694f8d58.js"><link rel="prefetch" href="/assets/js/42.d8e63344.js"><link rel="prefetch" href="/assets/js/43.bee7ea0f.js"><link rel="prefetch" href="/assets/js/44.fe40dd0d.js"><link rel="prefetch" href="/assets/js/45.b2a69d52.js"><link rel="prefetch" href="/assets/js/46.0132227d.js"><link rel="prefetch" href="/assets/js/47.717699f5.js"><link rel="prefetch" href="/assets/js/48.e08ff8bd.js"><link rel="prefetch" href="/assets/js/49.a4b7c360.js"><link rel="prefetch" href="/assets/js/5.fb1d5738.js"><link rel="prefetch" href="/assets/js/50.30b0407b.js"><link rel="prefetch" href="/assets/js/51.9195d4b1.js"><link rel="prefetch" href="/assets/js/52.4489980a.js"><link rel="prefetch" href="/assets/js/53.6e93d4e7.js"><link rel="prefetch" href="/assets/js/54.6c28a1ae.js"><link rel="prefetch" href="/assets/js/55.466fbdb8.js"><link rel="prefetch" href="/assets/js/56.8395a5b6.js"><link rel="prefetch" href="/assets/js/57.7d01fe08.js"><link rel="prefetch" href="/assets/js/58.4f274b5a.js"><link rel="prefetch" href="/assets/js/59.e7ac89b2.js"><link rel="prefetch" href="/assets/js/6.ffe6f60a.js"><link rel="prefetch" href="/assets/js/60.777c1ab9.js"><link rel="prefetch" href="/assets/js/61.04cbc2ad.js"><link rel="prefetch" href="/assets/js/62.80159fe1.js"><link rel="prefetch" href="/assets/js/63.441e5f5a.js"><link rel="prefetch" href="/assets/js/64.8772eb9a.js"><link rel="prefetch" href="/assets/js/65.63067dd5.js"><link rel="prefetch" href="/assets/js/66.c47c7c3a.js"><link rel="prefetch" href="/assets/js/67.810a0f51.js"><link rel="prefetch" href="/assets/js/68.b8d3b2c0.js"><link rel="prefetch" href="/assets/js/69.efc52ee5.js"><link rel="prefetch" href="/assets/js/7.a00e933e.js"><link rel="prefetch" href="/assets/js/70.21883f2d.js"><link rel="prefetch" href="/assets/js/71.5ec9eba3.js"><link rel="prefetch" href="/assets/js/72.16f1094c.js"><link rel="prefetch" href="/assets/js/73.213c11cd.js"><link rel="prefetch" href="/assets/js/74.066feffc.js"><link rel="prefetch" href="/assets/js/75.1d6d0ea5.js"><link rel="prefetch" href="/assets/js/76.911e1e13.js"><link rel="prefetch" href="/assets/js/77.7ef21c02.js"><link rel="prefetch" href="/assets/js/78.13aeaee5.js"><link rel="prefetch" href="/assets/js/79.86b905f1.js"><link rel="prefetch" href="/assets/js/8.d8967824.js"><link rel="prefetch" href="/assets/js/80.511f063b.js"><link rel="prefetch" href="/assets/js/81.42d80c5a.js"><link rel="prefetch" href="/assets/js/82.62675dc7.js"><link rel="prefetch" href="/assets/js/83.42ff2f3c.js"><link rel="prefetch" href="/assets/js/84.fe259a72.js"><link rel="prefetch" href="/assets/js/85.7a5e72fc.js"><link rel="prefetch" href="/assets/js/86.a6ab4a8d.js"><link rel="prefetch" href="/assets/js/87.d234e42b.js"><link rel="prefetch" href="/assets/js/88.194aa2aa.js"><link rel="prefetch" href="/assets/js/9.2250d602.js"><link rel="prefetch" href="/assets/js/90.e71334e6.js"><link rel="prefetch" href="/assets/js/91.6b094e04.js"><link rel="prefetch" href="/assets/js/92.09bdaded.js"><link rel="prefetch" href="/assets/js/93.63e9e398.js"><link rel="prefetch" href="/assets/js/94.5a78a51f.js"><link rel="prefetch" href="/assets/js/95.d175f078.js"><link rel="prefetch" href="/assets/js/96.17078670.js"><link rel="prefetch" href="/assets/js/97.7e1519f0.js"><link rel="prefetch" href="/assets/js/98.4b809fad.js"><link rel="prefetch" href="/assets/js/99.ce7b22a6.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d6ea9e36.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Test in Javascript</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vue-test-utils/" class="nav-link">
  Vue-Test-Utils
</a></div><div class="nav-item"><a href="/vue-testing-handbook/" class="nav-link">
  Vue-testing-handbook
</a></div><div class="nav-item"><a href="/jest/" class="nav-link">
  Jest
</a></div><div class="nav-item"><a href="/mocha/" class="nav-link router-link-active">
  Mocha
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vue-test-utils/" class="nav-link">
  Vue-Test-Utils
</a></div><div class="nav-item"><a href="/vue-testing-handbook/" class="nav-link">
  Vue-testing-handbook
</a></div><div class="nav-item"><a href="/jest/" class="nav-link">
  Jest
</a></div><div class="nav-item"><a href="/mocha/" class="nav-link router-link-active">
  Mocha
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Mocha</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/mocha/" aria-current="page" class="sidebar-link">Mocha</a></li><li><a href="/mocha/installation.html" class="sidebar-link">INSTALLATION</a></li><li><a href="/mocha/getting-started.html" class="sidebar-link">GETTING STARTED</a></li><li><a href="/mocha/run-cycle.html" class="sidebar-link">APERÇU DU CYCLE DE FONCTIONNEMENT</a></li><li><a href="/mocha/detect-multiple.html" class="sidebar-link">DETECTS MULTIPLE CALLS TO DONE()</a></li><li><a href="/mocha/assertions.html" class="sidebar-link">LES ASSERTIONS</a></li><li><a href="/mocha/asynchronous-code.html" class="sidebar-link">CODE ASYNCHRONE</a></li><li><a href="/mocha/synchronous-code.html" class="sidebar-link">CODE SYNCHRONE</a></li><li><a href="/mocha/arrow-functions.html" class="sidebar-link">LES FONCTIONS FLECHES</a></li><li><a href="/mocha/hooks.html" class="sidebar-link">HOOKS</a></li><li><a href="/mocha/pending-tests.html" class="sidebar-link">TESTS EN ATTENTE</a></li><li><a href="/mocha/exclusive-tests.html" class="sidebar-link">EXCLUSIVE TESTS</a></li><li><a href="/mocha/inclusive-tests.html" class="sidebar-link">INCLUSIVE TESTS</a></li><li><a href="/mocha/retry-tests.html" class="sidebar-link">RETRY TESTS</a></li><li><a href="/mocha/dynamically-generating.html" class="sidebar-link">DYNAMICALLY GENERATING TESTS</a></li><li><a href="/mocha/timeouts.html" class="sidebar-link">TIMEOUTS</a></li><li><a href="/mocha/diffs.html" class="sidebar-link">DIFFS</a></li><li><a href="/mocha/command-line.html" class="sidebar-link">L'UTILISATION DE LA LIGNE DE COMMANDE</a></li><li><a href="/mocha/parallel-tests.html" aria-current="page" class="active sidebar-link">PARALLEL TESTS</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/mocha/parallel-tests.html#limitations-du-rapporteur" class="sidebar-link">LIMITATIONS DU RAPPORTEUR</a></li><li class="sidebar-sub-header"><a href="/mocha/parallel-tests.html#les-tests-exclusifs-ne-sont-pas-autorises" class="sidebar-link">LES TESTS EXCLUSIFS NE SONT PAS AUTORISÉS</a></li><li class="sidebar-sub-header"><a href="/mocha/parallel-tests.html#l-ordre-des-fichiers-est-non-deterministe" class="sidebar-link">L'ORDRE DES FICHIERS EST NON DÉTERMINISTE</a></li><li class="sidebar-sub-header"><a href="/mocha/parallel-tests.html#variabilite-de-la-duree-des-tests" class="sidebar-link">VARIABILITÉ DE LA DURÉE DES TESTS</a></li><li class="sidebar-sub-header"><a href="/mocha/parallel-tests.html#bail-is-best-effort" class="sidebar-link">“BAIL” IS “BEST EFFORT”</a></li><li class="sidebar-sub-header"><a href="/mocha/parallel-tests.html#les-root-hooks-ne-sont-pas-globaux" class="sidebar-link">LES ROOT HOOKS NE SONT PAS GLOBAUX</a></li><li class="sidebar-sub-header"><a href="/mocha/parallel-tests.html#pas-de-support-pour-les-navigateurs" class="sidebar-link">PAS DE SUPPORT POUR LES NAVIGATEURS</a></li><li class="sidebar-sub-header"><a href="/mocha/parallel-tests.html#api-limitee-pour-les-reporters-tiers" class="sidebar-link">API LIMITÉE POUR LES REPORTERS TIERS</a></li><li class="sidebar-sub-header"><a href="/mocha/parallel-tests.html#depannage-du-mode-parallele" class="sidebar-link">DÉPANNAGE DU MODE PARALLÈLE</a></li><li class="sidebar-sub-header"><a href="/mocha/parallel-tests.html#avertissement-concernant-les-tests-en-parallele" class="sidebar-link">AVERTISSEMENT CONCERNANT LES TESTS EN PARALLÈLE</a></li></ul></li><li><a href="/mocha/root.html" class="sidebar-link">PLUGINS DE CROCHET DE RACINE</a></li><li><a href="/mocha/interfaces.html" class="sidebar-link">INTERFACES</a></li><li><a href="/mocha/reporters.html" class="sidebar-link">RAPPORTEURS</a></li><li><a href="/mocha/node-js.html" class="sidebar-link">NODE.JS NATIVE ESM SUPPORT</a></li><li><a href="/mocha/running-mocha.html" class="sidebar-link">EXÉCUTER MOKA DANS LE NAVIGATEUR</a></li><li><a href="/mocha/desktop.html" class="sidebar-link">DESKTOP NOTIFICATION SUPPORT</a></li><li><a href="/mocha/configuring-mocha.html" class="sidebar-link">CONFIGURING MOCHA (NODE.JS)</a></li><li><a href="/mocha/the-test.html" class="sidebar-link">LE RÉPERTOIRE TEST</a></li><li><a href="/mocha/error-code.html" class="sidebar-link">ERROR CODES</a></li><li><a href="/mocha/editor-plugin.html" class="sidebar-link">EDITOR PLUGINS</a></li><li><a href="/mocha/examples.html" class="sidebar-link">EXAMPLES</a></li><li><a href="/mocha/testing-mocha.html" class="sidebar-link">TESTER LE MOKA</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="parallel-tests"><a href="#parallel-tests" class="header-anchor">#</a> PARALLEL TESTS</h1> <blockquote><p>Nouveau dans la v.8.0.0.</p></blockquote> <p>Selon le nombre et la nature de vos tests, vous pouvez trouver un avantage significatif en termes de performance lorsque vous effectuez des tests en parallèle (en utilisant le drapeau &quot;-parallèle&quot;).</p> <p>Les tests parallèles devraient fonctionner sans problème pour de nombreux cas d'utilisation. Cependant, vous devez être conscient de certaines implications importantes du comportement.</p> <blockquote><p>Note : Les auteurs de bibliothèques tierces construites sur Mocha devraient lire ceci !</p></blockquote> <h2 id="limitations-du-rapporteur"><a href="#limitations-du-rapporteur" class="header-anchor">#</a> LIMITATIONS DU RAPPORTEUR</h2> <p>En raison de la nature des rapporteurs suivants, ils ne peuvent pas travailler lorsqu'ils effectuent des tests en parallèle :</p> <ul><li><a href="https://mochajs.org/#markdown" target="_blank" rel="noopener noreferrer"><code>markdown</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://mochajs.org/#progress" target="_blank" rel="noopener noreferrer"><code>progress</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://mochajs.org/#json-stream" target="_blank" rel="noopener noreferrer"><code>json-stream</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>Ces rqpporteurs attendent de Mocha qu'il sache combien de tests il prévoit d'effectuer avant l'exécution. Cette information n'est pas disponible en mode parallèle, car les fichiers de test ne sont chargés que lorsqu'ils sont sur le point d'être exécutés.</p> <p>En mode série, les résultats des tests seront &quot;diffusés&quot; au fur et à mesure qu'ils se produiront. En mode parallèle, la sortie du rapporteur est mise en mémoire tampon ; le rapport sera produit après l'achèvement de chaque fichier. En pratique, la sortie du rapporteur apparaîtra en &quot;morceaux&quot; (mais sera sinon identique). Si un fichier test est particulièrement lent, il peut y avoir une pause importante pendant son exécution.</p> <h2 id="les-tests-exclusifs-ne-sont-pas-autorises"><a href="#les-tests-exclusifs-ne-sont-pas-autorises" class="header-anchor">#</a> LES TESTS EXCLUSIFS NE SONT PAS AUTORISÉS</h2> <p>Vous ne pouvez pas utiliser <code>it.only</code>, <code>describe.only</code>, <code>this.only()</code>, <strong>etc., en mode parallèle</strong>. C'est pour la même raison que les rapporteurs incompatibles mentionnés ci-dessus : en mode parallèle, Mocha ne charge pas tous les fichiers et suites en mémoire avant de lancer les tests.</p> <p>Solutions de contournement suggérées :</p> <ol><li>Utilisew pultôt <a href="https://mochajs.org/#-grep-regexp-g-regexp" target="_blank" rel="noopener noreferrer"><code>--grep</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ou <a href="http://localhost:8080/#-fgrep-string-f-string" target="_blank" rel="noopener noreferrer"><code>--fgrep</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ce n'est pas particulièrement efficace, mais cela fonctionnera.</li> <li>N'utilisez pas le mode parallèle. Il est probable que vous ne ferez pas beaucoup de tests exclusifs, donc vous ne verrez pas de grand avantage à utiliser le mode parallèle de toute façon.</li></ol> <blockquote><p>ASTUCE : Si le mode parallèle est défini dans votre fichier de configuration, vous pouvez le désactiver temporairement sur la ligne de commande en utilisant soit le drapeau <code>--no-parallèle</code> soit en réduisant le nombre de travaux, par exemple, <code>--jobs=0</code>.</p></blockquote> <h2 id="l-ordre-des-fichiers-est-non-deterministe"><a href="#l-ordre-des-fichiers-est-non-deterministe" class="header-anchor">#</a> L'ORDRE DES FICHIERS EST NON DÉTERMINISTE</h2> <p>En mode parallèle, Mocha ne garantit pas l'ordre dans lequel les fichiers tests seront exécutés, ni le processus de travail qui les exécute.</p> <p>Pour cette raison, les options suivantes, qui dépendent de l'ordre, ne peuvent pas être utilisées en mode parallèle :</p> <ul><li><a href="https://mochajs.org/#-file-filedirectoryglob" target="_blank" rel="noopener noreferrer"><code>--file</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://mochajs.org/#-sort-s" target="_blank" rel="noopener noreferrer"><code>--sort</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://mochajs.org/#delayed-root-suite" target="_blank" rel="noopener noreferrer"><code>--delay</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="variabilite-de-la-duree-des-tests"><a href="#variabilite-de-la-duree-des-tests" class="header-anchor">#</a> VARIABILITÉ DE LA DURÉE DES TESTS</h2> <p>L'exécution de tests en mode parallèle utilisera naturellement plus de ressources système. Le système d'exploitation peut prendre plus de temps pour programmer et effectuer certaines opérations, en fonction de la charge du système. Pour cette raison, il peut être nécessaire d'augmenter les délais de certains tests soit <a href="https://mochajs.org/#-timeout-ms-t-ms" target="_blank" rel="noopener noreferrer">globally<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ou <a href="https://mochajs.org/#timeouts" target="_blank" rel="noopener noreferrer">otherwise<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h2 id="bail-is-best-effort"><a href="#bail-is-best-effort" class="header-anchor">#</a> “BAIL” IS “BEST EFFORT”</h2> <p>Lorsqu'il est utilisé avec <code>--bail</code> (ou <code>this.bail()</code>) pour sortir après le premier échec, il est probable que d'autres tests seront effectués en même temps. Le mocha doit arrêter ses processus de travail avant de sortir.</p> <p>De même, les sous-processus peuvent lancer des exceptions non prises. Lorsqu'il est utilisé avec --uncaught, le Mocha va &quot;bouillonner&quot; cette exception au processus principal, mais doit quand même arrêter ses processus.</p> <p>Dans tous les cas, Mocha annulera le test &quot;très bientôt&quot;.</p> <h2 id="les-root-hooks-ne-sont-pas-globaux"><a href="#les-root-hooks-ne-sont-pas-globaux" class="header-anchor">#</a> LES ROOT HOOKS NE SONT PAS GLOBAUX</h2> <blockquote><p>NOTE : Ceci ne s'applique qu'en cas de fonctionnement en mode parallèle.</p></blockquote> <p>Un hook racine est un hook dans un fichier de test qui n'est pas défini dans une suite. Un exemple utilisant l'interface <code>bdd</code> :</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// test/setup.js</span>

<span class="token comment">// root hook to run before every test (even in other files)</span>
<span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">doMySetup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// root hook to run after every test (even in other files)</span>
<span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">doMyTeardown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Lorsqu'il est exécuté (dans le mode &quot;série&quot; par défaut) via cette commande :</p> <div class="language-js extra-class"><pre class="language-js"><code>mocha <span class="token operator">--</span>file <span class="token string">&quot;./test/setup.js&quot;</span> <span class="token string">&quot;./test/**/*.spec.js&quot;</span>
</code></pre></div><p><code>setup.js</code> sera exécuté en premier, et installera les deux crochets indiqués ci-dessus pour chaque test trouvé dans <code>./test/**/*.spec.js</code>.</p> <p><strong>L'exemple ci-dessus ne fonctionne pas en mode parallèle.</strong></p> <p>Lorsque Mocha fonctionne en mode parallèle, les <strong>fichiers de test ne partagent pas le même processus</strong>, ni la même instance de Mocha. Par conséquent, un crochet de racine hypothétique défini dans le fichier de test A <strong>ne sera pas présent</strong> dans le fichier de test B.</p> <p>Voici quelques suggestions de contournement :</p> <ol><li><code>requérir('./setup.js')</code> ou <code>importer './setup.js'</code> en haut de chaque fichier de test. Il est préférable d'éviter les personnes qui ne veulent pas de la méthode &quot;passe-partout&quot;.</li> <li>recommandé : Définir les root hooks dans un fichier &quot;requis&quot;, en utilisant le nouveau (également à partir de la v8.0.0) système de plugin root hook.</li></ol> <h2 id="pas-de-support-pour-les-navigateurs"><a href="#pas-de-support-pour-les-navigateurs" class="header-anchor">#</a> PAS DE SUPPORT POUR LES NAVIGATEURS</h2> <p>Le mode parallèle n'est disponible que dans Node.js, pour l'instant.</p> <h2 id="api-limitee-pour-les-reporters-tiers"><a href="#api-limitee-pour-les-reporters-tiers" class="header-anchor">#</a> API LIMITÉE POUR LES REPORTERS TIERS</h2> <p>Les journalistes tiers peuvent rencontrer des problèmes lorsqu'ils tentent d'accéder à des propriétés inexistantes dans les objets &quot;Test&quot;, &quot;Suite&quot; et &quot;Hook&quot;. Si un rapporteur tiers ne travaille pas en mode parallèle (mais travaille autrement en mode série), veuillez signaler un problème.</p> <h2 id="depannage-du-mode-parallele"><a href="#depannage-du-mode-parallele" class="header-anchor">#</a> DÉPANNAGE DU MODE PARALLÈLE</h2> <p>Si vous trouvez que vos tests ne fonctionnent pas correctement w</p> <p>✅ Assurez-vous que vous utilisez un [reporter pris en charge] (https://mochajs.org/#reporter-limitations).
✅ Assurez-vous que vous n'utilisez pas [d'autres indicateurs non pris en charge] (https://mochajs.org/#file-order-is-non-deterministic).
✅ Vérifiez votre <a href="https://mochajs.org/#configuring-mocha-nodejs" target="_blank" rel="noopener noreferrer">fichier de configuration<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ; les options définies dans les fichiers de configuration seront fusionnées avec toute option de ligne de commande.
✅ Recherchez les &quot;root hooks&quot; (ils ressemblent à <a href="https://mochajs.org/#root-hooks-are-not-global" target="_blank" rel="noopener noreferrer">this<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>) dans vos tests. Déplacez-les dans un <a href="https://mochajs.org/#root-hook-plugins" target="_blank" rel="noopener noreferrer">Plugin root hook<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.
✅ Les bibliothèques d'assertions, de simulations ou d'autres tests que vous utilisez utilisent-elles des &quot;root hooks&quot; ? Il est possible qu'il faille les migrer pour assurer la compatibilité avec le mode parallèle.
✅ i les tests s'arrêtent inopinément, vous devrez peut-être augmenter le délai d'attente par défaut (via <a href="https://mochajs.org/#-timeout-ms-t-ms" target="_blank" rel="noopener noreferrer"><code>--timeout</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>)
Assurez-vous que vos tests ne dépendent pas d'un ordre précis.
✅ Assurez-vous que vos tests ne dépendent pas d'un ordre précis.
✅ Veillez à ce que vos tests se nettoient d'eux-mêmes ; retirez les fichiers temporaires, les poignées, les sockets, etc. N'essayez pas de partager l'état ou les ressources entre les fichiers de test.</p> <h2 id="avertissement-concernant-les-tests-en-parallele"><a href="#avertissement-concernant-les-tests-en-parallele" class="header-anchor">#</a> AVERTISSEMENT CONCERNANT LES TESTS EN PARALLÈLE</h2> <p>Certains types de tests ne se prêtent pas aussi bien à une exécution en parallèle. Par exemple, les tests extrêmement sensibles au temps, ou les tests qui adressent des demandes d'E/S à un ensemble limité de ressources (comme l'ouverture de ports, ou l'automatisation de fenêtres de navigateur, l'accès à une base de données de test, ou à un serveur distant, etc.)</p> <p>Les services de CI en nuage libre peuvent ne pas fournir de conteneur multicœur ou de VM appropriés pour leurs agents de construction. En ce qui concerne les gains de performance attendus en matière de CI : votre kilométrage peut varier. Il peut être utile d'utiliser un conditionnel dans un <code>.mocharc.js</code> pour vérifier <code>process.env.CI</code>, et ajuster le nombre de tâches comme il convient.</p> <p>Il est peu probable (mais pas impossible) de voir un gain de performance provenant d'un nombre d'emplois supérieur au nombre de cœurs de processeur disponibles. Cela dit, jouez avec le nombre de tâches - il n'y a pas de solution unique, et les caractéristiques uniques de vos tests détermineront le nombre optimal de tâches ; il se peut même que moins soit plus rapide !</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/mocha/command-line.html" class="prev">
        L'UTILISATION DE LA LIGNE DE COMMANDE
      </a></span> <span class="next"><a href="/mocha/root.html">
        PLUGINS DE CROCHET DE RACINE
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.d1ae5048.js" defer></script><script src="/assets/js/2.76e9c098.js" defer></script><script src="/assets/js/89.3d076e90.js" defer></script>
  </body>
</html>
